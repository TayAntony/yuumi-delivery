{"ast":null,"code":"import View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useRoute } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Agradecimento(_ref) {\n  var navigation = _ref.navigation;\n  var dados_usuario = JSON.parse(localStorage.getItem('dados_usuario'));\n  var route = useRoute();\n  var cep = route.params.cep;\n  useEffect(function () {\n    var lista_transportadores = [];\n    var itens_carrinho = JSON.parse(localStorage.getItem('carrinho'));\n    var lista_carrinho = [];\n    var total_carrinho = 0;\n    lista_carrinho = itens_carrinho;\n    lista_carrinho.map(function (item) {\n      var valor = item.preco * item.qtd;\n      total_carrinho += valor;\n    });\n    var token = JSON.parse(localStorage.getItem('token'));\n    axios.get('http://127.0.0.1:8000/loja/clientes/', {\n      headers: {\n        Authorization: `JWT ${token.data.access}`\n      }\n    }).then(function (res_lista_clientes) {\n      var lista = [];\n      lista = res_lista_clientes.data;\n      lista.map(function (cliente) {\n        if (cliente.transportador == true) {\n          lista_transportadores.push(cliente.nome);\n          console.log(cliente.nome);\n        }\n      });\n      var transportador_sorteado = lista_transportadores[Math.floor(Math.random() * lista_transportadores.length)];\n      var d = new Date(\"2021-03-25\");\n      d.getFullYear();\n      axios.post('http://127.0.0.1:8000/loja/pedidos/', {\n        nome_do_entregador: transportador_sorteado,\n        cliente: dados_usuario.nome,\n        codigo_rastreio: 10923,\n        endereco: cep,\n        itens_pedido: itens_carrinho.length,\n        preco_total: total_carrinho\n      }, {\n        headers: {\n          Authorization: `JWT ${token.data.access}`\n        }\n      }).then(function (res) {});\n      localStorage.setItem('carrinho', '[]');\n    });\n  }, []);\n  return _jsx(View, {\n    style: {\n      width: '100%',\n      height: '100%',\n      backgroundColor: 'white'\n    },\n    children: _jsxs(ImageBackground, {\n      style: {\n        width: 388,\n        height: 320\n      },\n      source: require(\"../assets/agradecimento.svg\"),\n      children: [_jsxs(View, {\n        style: {\n          width: '70%',\n          height: 120,\n          display: 'flex',\n          flexDirection: 'row-reverse',\n          justifyContent: 'space-around',\n          alignItems: 'center'\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            textAlign: 'center'\n          },\n          children: \"Parab\\xE9ns\"\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate('Home');\n          },\n          children: _jsx(Image, {\n            style: {\n              width: 60,\n              height: 60\n            },\n            source: require(\"../assets/bot\\xE3o voltar.svg\")\n          })\n        })]\n      }), _jsx(View, {\n        style: {\n          height: 220\n        }\n      }), _jsx(Text, {\n        style: {\n          fontSize: 24,\n          color: '#5635cc',\n          marginLeft: 32,\n          fontWeight: 600\n        },\n        children: \"Compra feita com sucesso!\"\n      }), _jsx(Text, {\n        style: {\n          fontSize: 16,\n          color: '#969696',\n          marginLeft: 32\n        },\n        children: \"Seu pedido chegar\\xE1 em at\\xE9 10 dias \\xFAteis.\"\n      }), _jsxs(View, {\n        style: {\n          marginTop: 220\n        },\n        children: [_jsxs(Text, {\n          style: {\n            textAlign: 'left',\n            fontSize: 12,\n            marginLeft: 32\n          },\n          children: [\"Caso tenha alguma d\\xFAvida ou problema, \", _jsx(Text, {\n            style: {\n              color: '#5F5DEE',\n              fontWeight: 'bold'\n            },\n            children: \"fale conosco!\"\n          })]\n        }), _jsx(View, {\n          style: {\n            width: '100%',\n            display: 'flex',\n            justifyContent: 'space-evenly',\n            flexDirection: 'row',\n            alignItems: 'center',\n            marginTop: 8\n          },\n          children: _jsx(TouchableOpacity, {\n            style: {\n              borderRadius: 4,\n              backgroundColor: '#5F5DEE',\n              width: 212,\n              justifyContent: 'center',\n              height: 50,\n              width: '85%'\n            },\n            onPress: function onPress() {\n              return navigation.navigate('Mapa');\n            },\n            children: _jsx(Text, {\n              style: {\n                fontSize: 16,\n                color: 'white',\n                textAlign: 'center',\n                fontWeight: 'bold'\n              },\n              children: \"Ver mapa\"\n            })\n          })\n        })]\n      })]\n    })\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","axios","useRoute","jsx","_jsx","jsxs","_jsxs","Agradecimento","_ref","navigation","dados_usuario","JSON","parse","localStorage","getItem","route","cep","params","lista_transportadores","itens_carrinho","lista_carrinho","total_carrinho","map","item","valor","preco","qtd","token","get","headers","Authorization","data","access","then","res_lista_clientes","lista","cliente","transportador","push","nome","console","log","transportador_sorteado","Math","floor","random","length","d","Date","getFullYear","post","nome_do_entregador","codigo_rastreio","endereco","itens_pedido","preco_total","res","setItem","View","style","width","height","backgroundColor","children","ImageBackground","source","require","display","flexDirection","justifyContent","alignItems","Text","fontSize","fontWeight","textAlign","TouchableOpacity","onPress","navigate","Image","color","marginLeft","marginTop","borderRadius"],"sources":["C:/Users/50633420867/Documents/GitHub/yuumi-delivery/YummiDelivery/pages/agradecimento.js"],"sourcesContent":["import { View, Text, TouchableOpacity, Image, ImageBackground, TextInput } from 'react-native'\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useRoute } from '@react-navigation/native';\r\n\r\nexport default function Agradecimento({navigation}){\r\n    const dados_usuario = JSON.parse(localStorage.getItem('dados_usuario'))\r\n\r\n    const route = useRoute()\r\n    \r\n    const cep = route.params.cep\r\n    \r\n    useEffect(() => {\r\n        let lista_transportadores = []\r\n        const itens_carrinho = JSON.parse(localStorage.getItem('carrinho'))\r\n        let lista_carrinho = []\r\n        let total_carrinho = 0\r\n        lista_carrinho = itens_carrinho\r\n\r\n        lista_carrinho.map((item) => {\r\n            let valor = item.preco * item.qtd\r\n            total_carrinho += valor\r\n        })\r\n\r\n        const token = JSON.parse(localStorage.getItem('token'))\r\n        axios.get('http://127.0.0.1:8000/loja/clientes/', { headers: { Authorization: `JWT ${token.data.access}`}})\r\n        .then((res_lista_clientes) => {     \r\n            let lista = []\r\n            lista = res_lista_clientes.data\r\n            \r\n            lista.map((cliente) => {\r\n                if (cliente.transportador == true){\r\n                    lista_transportadores.push(cliente.nome)\r\n                    console.log(cliente.nome)\r\n                }           \r\n            })\r\n            \r\n            let transportador_sorteado = lista_transportadores[Math.floor(Math.random() * lista_transportadores.length)]\r\n            const d = new Date(\"2021-03-25\");\r\nd.getFullYear();\r\n            axios.post('http://127.0.0.1:8000/loja/pedidos/', {nome_do_entregador: transportador_sorteado, cliente: dados_usuario.nome, codigo_rastreio: 10923, endereco: cep, itens_pedido: itens_carrinho.length, preco_total: total_carrinho}, { headers: { Authorization: `JWT ${token.data.access}`}})\r\n            .then((res) => {\r\n                \r\n            })\r\n            \r\n            localStorage.setItem('carrinho', '[]')\r\n        })\r\n    }, [])\r\n    \r\n    return(\r\n        <View style={{width: '100%', height: '100%', backgroundColor: 'white'}}>\r\n            <ImageBackground style={{width: 388, height: 320}} source={require('../assets/agradecimento.svg')}>\r\n            \r\n            <View style={{width: '70%', height: 120, display: 'flex', flexDirection: 'row-reverse', justifyContent: 'space-around', alignItems: 'center'}}>\r\n                <Text style={{fontSize: 18, fontWeight: 'bold', textAlign: 'center'}}>Parabéns</Text>\r\n                <TouchableOpacity onPress={() => navigation.navigate('Home')}> \r\n                    <Image style={{width: 60, height: 60}} source={require('../assets/botão voltar.svg')}></Image>\r\n                </TouchableOpacity>\r\n            </View>\r\n            \r\n            <View style={{height: 220}}></View>\r\n\r\n            <Text style={{fontSize: 24, color: '#5635cc', marginLeft: 32, fontWeight: 600}}>\r\n                Compra feita com sucesso!\r\n            </Text>\r\n            <Text style={{fontSize: 16, color: '#969696', marginLeft: 32}}>\r\n                Seu pedido chegará em até 10 dias úteis.\r\n            </Text>\r\n            \r\n            <View style={{marginTop: 220}}>\r\n                <Text style={{textAlign: 'left', fontSize: 12, marginLeft: 32}}>Caso tenha alguma dúvida ou problema, <Text style={{color: '#5F5DEE', fontWeight: 'bold'}}>fale conosco!</Text></Text>\r\n                <View style={{width: '100%', display: 'flex', justifyContent: 'space-evenly', flexDirection: 'row', alignItems: 'center', marginTop: 8}}>\r\n                        <TouchableOpacity style={{borderRadius: 4, backgroundColor: '#5F5DEE', width: 212, justifyContent: 'center', height: 50, width: '85%'}} onPress={() => navigation.navigate('Mapa')}>\r\n                            <Text style={{fontSize: 16, color: 'white', textAlign: 'center', fontWeight: 'bold'}}>Ver mapa</Text>\r\n                        </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n            </ImageBackground>\r\n           \r\n            \r\n        </View>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}